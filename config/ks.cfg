# Use graphical|text|cmdline install
graphical

# Eula
eula --accept

# Keyboard layouts
keyboard --vckeymap=us --xlayouts='us'

# System language
lang en_US.UTF-8

# Additional Drivers
#driverdisk --source http://path/to/add.img

# Use installation media
#cdrom
url --mirrorlist="https://mirrors.fedoraproject.org/mirrorlist?repo=fedora-38&arch=x86_64"

# Setup network
network --onboot=yes --bootproto=dhcp --hostname=plex --wpakey WPAKEY

%packages
@^server-product-environment
-git
-cockpit 
-cockpit-podman 
-podman
-zfs
%end

# System timezone
timezone America/Chicago --utc

# Run the Setup Agent on first boot
firstboot --enable

# Generated using Blivet version 3.5.0
ignoredisk --only-use=sdb

# Partition clearing information
clearpart --all --initlabel --drives=sdb

# Disk partitioning information
part /boot/efi --fstype="efi" --ondisk=sdb --size=1024 --fsoptions="umask=0077,shortname=winnt" --label=boot
part btrfs.107 --fstype="btrfs" --ondisk=sdb --size=9214
btrfs / btrfs.107
btrfs /home --subvol --name=home 
btrfs /.snapshots --subvol --name=snapshots 
btrfs /home/.snapshots --subvol --name=home-snapshots 
btrfs /var/log --subvol --name=log 
btrfs /var/lib --subvol --name=var-lib

#Root password
rootpw --lock
user --groups=wheel --name=administrator --password=$y$j9T$DSLck/TnpEV85FFNGbJZYq1Q$fNgF/MFiXJIcbu4JoPsKNUmymXeujrlD2aMX1/UWdb. --iscrypted --gecos="Administrator"

# Pre-installation scripts
#
# You can add commands to run on the system immediately after the ks.cfg has been parsed and the lang, 
# keyboard, and url options # have been processed. This section must be at the end of the kickstart file 
# (after the commands) and must start with the %pre command and end with %end.

#%pre
#%end





